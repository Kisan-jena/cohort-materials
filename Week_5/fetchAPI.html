<!DOCTYPE html>
<html>

<body>
  <div id="posts"></div>
  <script>
    async function fetchPosts() {
      // fetch function is doing a get request and as a response it is getting some data.
      console.log('before sending request')
      const res = await fetch("https://jsonplaceholder.typicode.com/posts/1" );
      const json = await response.json(); // or res.json()
      console.log(json);
      console.log('request has been processed')
      document.getElementById("posts").innerHTML = json.userId;
    }
    fetchPosts();
  
  </script>

  <!-- & UNDER THE HOOD The above aynch/await is converting into promises -->
  <script>
    function fetchPosts() {
    console.log('before sending request');
    
    // Step 1: Fetch returns a Promise
    fetch("https://jsonplaceholder.typicode.com/posts/1")
      .then(function (res) {
        // Step 2: Return a new Promise to parse the JSON
        return res.json();
      })
      .then(function (json) {
        console.log(json); // Process the JSON data
        console.log('request has been processed');
        document.getElementById("posts").innerHTML = json.userId; // Update the DOM
      })
      .catch(function (error) {
        console.error('Error:', error); // Handle errors
      });
  }
  fetchPosts();

  </script>

</body>

</html>